<?php
/**
 * Copyright Â© 2015 Magento. All rights reserved.
 * See COPYING.txt for license details.
 */
use Magento\Framework\App\Action\Action;

// @codingStandardsIgnoreFile

?>
<?php
/**
 * Product list template
 *
 * @var $block \Magento\Catalog\Block\Product\ListProduct
 */
?>
<?php
$_productCollection = $block->getLoadedProductCollection();
$_helper = $this->helper('Magento\Catalog\Helper\Output');
$themeHelper = $this->helper('MGS\Mpanel\Helper\Data');
$_aHelper = $this->helper('MGS\AjaxCart\Helper\Data');

$colClassRow = $themeHelper->getColClass();
$arrColClass = explode(' ', $colClassRow);
$pageType = 'catalog';
$settings = $themeHelper->getThemeSettings();
$lazyLoad = $themeHelper->getStoreConfig('mgstheme/general/lazy_load');
$baseImage = $this->getViewFileUrl('MGS_Mpanel::images/blank.png');
$baseImageHover = $this->getViewFileUrl('MGS_Mpanel::images/blank.png');
$perrow = $settings['catalog']['per_row'];
$animationType = $_aHelper->getConfig('ajaxcart/additional/animation_type');


$changeProductPerRow = $themeHelper->getEnableChangeProductPerRow();

if($this->hasData('page_type')){
	$pageType = $this->getData('page_type');
}
if($pageType == 'catalog'){
	$objectManager = \Magento\Framework\App\ObjectManager::getInstance();
	$category = $objectManager->get('Magento\Framework\Registry')->registry('current_category');
	if($category->getPerRow()){
		$perrow = $category->getPerRow();
	}
}elseif($pageType == 'catalogsearch') {
	if($settings['catalogsearch']['per_row']){
		$perrow = $settings['catalogsearch']['per_row'];
	}
}elseif($pageType == 'catalog_brand') {
	if($settings['catalog_brand']['per_row']){
		$perrow = $settings['catalog_brand']['per_row'];
	}
}

$hover_effect = "";
if ($themeHelper->getStoreConfig('mpanel/catalog/disable_hover_effect')== 1){
	$hover_effect = "disable_hover_effect";
}

$colCheck = $themeHelper->convertPerRowtoCol($perrow);
$colClass = $themeHelper->convertColClass($colCheck, 'col', null);

$classNumber = '';
$dataCol = '';
?>
<?php if (!$_productCollection->count()): ?>
    <div class="message info empty"><div><?php /* @escapeNotVerified */ echo __('We can\'t find products matching the selection.') ?></div></div>
<?php else: ?>
	<div class="category-product-actions">
		<?php if ($block->getMode() == 'grid'): ?>
			<?php if($changeProductPerRow): ?>
			<div class="change-product-per-row change-product-per-row-desktop button-group layout-mode-button-group">
				<?php $defaultValueProduct = $themeHelper->getDefaultValueNumberProductPerRow();
				if($defaultValueProduct == null) {
					$defaultValueProduct = '4';
				}
				?>
				<?php $arrayValues = $themeHelper->getValuesNumberProductPerRow();?>
				<?php foreach ($arrayValues as $number): ?>
					<?php
					switch ($number) {
						case '1':
							$classNumber = 'one';
							$dataCol = '12';
							break;
						case '2':
							$classNumber = 'two';
							$dataCol = '6';
							break;
						case '3':
							$classNumber = 'three';
							$dataCol = '4';
							break;
						case '4':
							$classNumber = 'four';
							$dataCol = '3';
							break;
						case '5':
							$classNumber = 'five';
							$dataCol = '5';
							break;
						case '6':
							$classNumber = 'six';
							$dataCol = '2';
							break;
						case '7':
							$classNumber = 'seven';
							$dataCol = '7';
							break;
						case '8':
							$classNumber = 'eight';
							$dataCol = '8';
							break;

						default:
							$classNumber = 'four';
							$dataCol = '3';
							break;
					}
					?>
					<a href="#" class="pr <?php echo $classNumber; if($number == $defaultValueProduct) echo " active is-checked";?>" data-col="<?php echo $dataCol; ?>"></a>

				<?php endforeach;?>

			</div>
		    	<?php
		    	$colCheck = $themeHelper->convertPerRowtoCol($defaultValueProduct);
				$colClass = $themeHelper->convertColClass($colCheck, 'col', null);
		    	?>
		    <?php endif ?>
	    <?php endif ?>
		<div class="filter-toggle">
			<a href="javascript:void(0)" class="title">
				<span class="icon pe-7s-edit"></span>
			</a>
		</div>
		<?php echo $block->getAdditionalHtml() ?>
		<?php echo $block->getToolbarHtml() ?>
	</div>
    <?php
    if ($block->getMode() == 'grid') {
        $viewMode = 'grid';
        $image = 'category_page_grid';
		$image_hover = 'product_thumbnail_image';
        $showDescription = false;
        $templateType = \Magento\Catalog\Block\Product\ReviewRendererInterface::SHORT_VIEW;
    } else {
        $viewMode = 'list';
        $image = 'category_page_list';
		$image_hover = 'product_thumbnail_image';
        $showDescription = true;
        $templateType = \Magento\Catalog\Block\Product\ReviewRendererInterface::FULL_VIEW;
    }
    /**
     * Position for actions regarding image size changing in vde if needed
     */
    $pos = $block->getPositioned();
    ?>
    <div class="products wrapper <?php /* @escapeNotVerified */ echo $viewMode; ?> products-<?php /* @escapeNotVerified */ echo $viewMode; ?>" id="product-wrapper">
        <?php $iterator = 1; ?>
        <ol class="products <?php if ($changeProductPerRow): ?>product-list-masonry-change-product<?php endif ?> list items product-items <?php if ($block->getMode() == 'grid'): ?>row<?php endif ?> <?php echo 'row-'.$arrColClass[0] ?>">

			<?php $_imagehelper = $this->helper('Magento\Catalog\Helper\Image'); ?>
			<?php $size = $themeHelper->getImageSize(); ?>
			<?php $padding = $themeHelper->getImagePadding(); ?>
			<?php $quickViewHelper = $this->helper('MGS\QuickView\Helper\Data'); ?>
			<?php $compareHelper = $this->helper('Magento\Catalog\Helper\Product\Compare'); ?>

			<?php if ($block->getMode() == 'grid'): ?>
				<?php $params = $block->getRequest()->getParams();  ?>
				<?php if($settings['catalog']['ajaxscroll']): ?>

					<?php if(isset($params['product_list_limit'])): ?>
						<?php $countAll = $params['product_list_limit']; ?>
					<?php else: ?>
						<?php $countAll = $themeHelper->getStoreConfig('catalog/frontend/grid_per_page'); ?>
					<?php endif ?>

					<?php if(isset($params['p'])): ?>
						<?php $i = ($params['p'] - 1) * $countAll; ?>
					<?php else: ?>
						<?php $i = 0; ?>
					<?php endif ?>

				<?php else: ?>
					<?php $i = 0; ?>
				<?php endif ?>

				<?php /** @var $_product \Magento\Catalog\Model\Product */ ?>
				<?php foreach ($_productCollection as $_product): $i++; ?>

					<li class="item product <?php if ($changeProductPerRow): ?>product-item-masonry<?php else: ?><?php echo $themeHelper->getClearClass($perrow, $i) ?><?php endif ?> product-item-info product-item <?php echo $colClass ?> <?php echo $hover_effect ?>">
						<?php $_productNameStripped = $block->stripTags($_product->getName(), null, true); ?>
						<?php $productImage = $_imagehelper->init($_product, $image)->resize($size['width'], $size['height'])->getUrl(); ?>
						<?php $productImageHover = $_imagehelper->init($_product, $image_hover)->resize($size['width'], $size['height'])->getUrl(); ?>
						<?php if(!$lazyLoad): ?>
							<?php $baseImage = $productImage ?>
							<?php $baseImageHover = $productImageHover ?>
						<?php endif ?>
						<div class="product-in-grid-container">
							<div class="product-top">
								<?php if($themeHelper->getStoreConfig('mpanel/catalog/images_slides')== 1): ?>
									<?php
									$productImageSmall = $_imagehelper->init($_product, 'product_small_image')->resize($size['width'], $size['height'])->getUrl();
									$productThumbnail = $_imagehelper->init($_product, 'product_thumbnail_image')->resize($size['width'], $size['height'])->getUrl();
									$productImageBase = $_imagehelper->init($_product, 'product_base_image')->resize($size['width'], $size['height'])->getUrl();
									?>
								   <div class="owl-carousel list_gallery">
										<a href="<?php  echo $_product->getProductUrl() ?>" class="product photo product-item-photo" style="padding-bottom: <?php echo $padding ?>;"  tabindex="-1">
											<img src="<?php echo $productImageBase ?>" alt="<?php echo $_productNameStripped ?>" class="img-responsive product-image-photo img-thumbnail"/>
										</a>
									   <?php if(basename($_product->getData('thumbnail')) != basename($_product->getData('image'))): ?>
										   <a href="<?php  echo $_product->getProductUrl() ?>" class="product photo product-item-photo" style="padding-bottom: <?php echo $padding ?>;"  tabindex="-1">
											<img src="<?php echo $productThumbnail ?>" alt="<?php echo $_productNameStripped ?>" class="img-responsive product-image-photo img-thumbnail" data-src="<?php echo $productThumbnail ?>"/>
										   </a>
									   <?php endif;?>

									  <?php if((basename($_product->getData('small_image')) != basename($_product->getData('image'))) && (basename($_product->getData('small_image')) != basename($_product->getData('thumbnail')))): ?>
											<a href="<?php  echo $_product->getProductUrl() ?>" class="product photo product-item-photo" style="padding-bottom: <?php echo $padding ?>;"  tabindex="-1">
												<img src="<?php echo $productImageSmall ?>" alt="<?php echo $_productNameStripped ?>" class="img-responsive product-image-photo img-thumbnail" data-src="<?php echo $productImageSmall ?>"/>
										   </a>
									   <?php endif;?>

									</div>

								<?php else:?>
								 <a href="<?php echo $_product->getProductUrl() ?>" style="padding-bottom: <?php echo $padding; ?>;" class="product photo product-item-photo" tabindex="-1">
									<img src="<?php echo $baseImage ?>" alt="<?php echo $_productNameStripped ?>" class="img-responsive product-image-photo img-thumbnail<?php if($lazyLoad): ?> lazy<?php endif ?>" data-src="<?php echo $productImage ?>"/>

									<?php if(basename($_product->getData('thumbnail')) !=  'no_selection'): ?>
										<?php if(basename($_product->getData('thumbnail')) != basename($_product->getData('small_image'))): ?>
											<img src="<?php echo $baseImageHover ?>" alt="<?php echo $_productNameStripped ?>" class="img-responsive img-hover-show<?php if($lazyLoad): ?> lazy<?php endif ?>" data-src="<?php echo $productImageHover ?>" />
										<?php endif ?>
									<?php endif ?>

									<div class="product-image-photo"></div>
								</a>

								<?php endif;?>
								<?php echo $themeHelper->getProductLabel($_product) ?>
								<div class="quick-view-container hidden-sm hidden-xs">
									<?php echo $quickViewHelper->aroundQuickViewHtml($_product); ?>
								</div>
								<ul class="actions-link" data-role="add-to-links">
									<?php if ($this->helper('Magento\Wishlist\Helper\Data')->isAllow() && !$settings['catalog']['wishlist_button']): ?>
										<li><button data-title="<?php echo $block->escapeHtml(__('Add to Wish List')); ?>"
										   class="action towishlist"
										   title="<?php echo $block->escapeHtml(__('Add to Wish List')); ?>"
										   aria-label="<?php echo $block->escapeHtml(__('Add to Wish List')); ?>"
										   data-post='<?php /* @escapeNotVerified */ echo $block->getAddToWishlistParams($_product); ?>'
										   data-action="add-to-wishlist"
										   role="button">
										   <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
												<path d="M9.5 1L12.1265 6.59516L18 7.4979L13.75 11.8507L14.753 18L9.5 15.0952L4.247 18L5.25 11.8507L1 7.4979L6.8735 6.59516L9.5 1Z" fill="white" stroke="#333333" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
											</svg>
										</button></li>
									<?php endif; ?>

									<?php if(!$settings['catalog']['compare_button']): ?>
										<li><button data-title="<?php echo $block->escapeHtml(__('Add to Compare')); ?>"
										   class="action tocompare"
										   title="<?php echo $block->escapeHtml(__('Add to Compare')); ?>"
										   aria-label="<?php echo $block->escapeHtml(__('Add to Compare')); ?>"
										   data-post='<?php /* @escapeNotVerified */ echo $compareHelper->getPostDataParams($_product); ?>'
										   role="button">
											<i class="pe-7s-graph3"></i>
										</button></li>
									<?php endif ?>
								</ul>
							</div>
							<div class="product details product-item-details">
								<?php echo $block->getProductDetailsHtml($_product); ?>

								<h5 class="product name product-item-name">
									<a class="product-item-link" href="<?php echo $_product->getProductUrl() ?>">
										<?php echo $_helper->productAttribute($_product, $_product->getName(), 'name'); ?>
									</a>
								</h5>

								<!-- <?php if(!$themeHelper->getStoreConfig('mpanel/catalog/review')): ?>
									<?php echo $block->getReviewsSummaryHtml($_product, $templateType,true); ?>
								<?php endif ?> -->

								<?php echo $block->getProductPrice($_product) ?>

								<?php if ($_product->isSaleable()): ?>
									<div class="field qty">
										<div class="control">
											<span class="edit-qty minus" data-id="<?php echo $_product->getId(); ?>">-</span>
											<input type="number" data-id="<?php echo $_product->getId(); ?>" name="qtyFront" id="qty" maxlength="12" value="1" title="Qty" class="input-text qty" data-validate="{&quot;required-number&quot;:true,&quot;validate-item-quantity&quot;:{&quot;minAllowed&quot;:1,&quot;maxAllowed&quot;:10000}}">
											<span class="edit-qty plus" data-id="<?php echo $_product->getId(); ?>">+</span>
										</div>
									</div>
								<?php endif ?>

								<?php if ($_product->isSaleable()): ?>
									<div>
										<?php $postParams = $block->getAddToCartPostParams($_product); ?>
										<form class="to-cart-form" data-role="tocart-form" action="<?php /* @escapeNotVerified */ echo $this->getUrl('checkout/cart/add', ['uenc'=>$postParams['data']['uenc'], 'product'=>$postParams['data']['product']]); ?>" method="post">
											<input type="hidden" name="product" value="<?php /* @escapeNotVerified */ echo $postParams['data']['product']; ?>">
											<input type="hidden" name="uenc" value="<?php /* @escapeNotVerified */ echo $postParams['data']['uenc']; ?>">
                                            <input type="hidden" id="addto_<?= $_product->getId(); ?>" name="qty" value="">
											<input name="form_key" type="hidden" value="<?php echo $this->getFormKey() ?>" />
											<?php
												$has_option = 0;
												if($_product->getTypeId() == 'simple'){
													$data = $_product->getData();
													$has_option = ( isset($data['has_options']) && $data['has_options'] == 1) ? 1 : 0;
												}
											 ?>
											<?php if($animationType == 'cartshow' && ($_product->getTypeId() == 'configurable' || $_product->getTypeId() == 'bundle' || $_product->getTypeId() == 'grouped' || ($_product->getTypeId() == 'simple' && $has_option == 1) )): ?>
												<button class="action btn-cart-custom" type="button" title="<?php /* @escapeNotVerified */ echo __('Add to Cart') ?>" onclick="window.location.href = '<?php echo $_product->getProductUrl() ?>'">
												<svg width="20" height="22" viewBox="0 0 20 22" fill="none" xmlns="http://www.w3.org/2000/svg">
													<g clip-path="url(#clip0)">
													<path d="M14.7899 13.6799L18.4499 14.8099C18.9299 14.9399 19.3899 15.1999 19.6699 15.6099C19.9899 16.0799 20.0299 16.6799 19.9899 17.2299C19.9599 17.7799 19.8799 18.3699 19.4999 18.7999C19.4299 18.8799 19.3299 18.9399 19.2599 19.0199C19.6599 18.5699 18.9599 18.0199 18.2199 17.7799L14.4699 16.5699C13.4999 16.2699 13.0099 15.5399 13.0099 14.5899C13.0099 14.5899 12.8599 13.1199 13.7399 12.4399C13.3499 12.8899 14.0499 13.4399 14.7899 13.6799Z" fill="white"/>
													<path d="M14.7899 13.6802L18.4499 14.8102C18.9199 14.9402 19.3599 15.1802 19.6499 15.5802C20.0199 16.1102 20.0199 16.7702 19.9799 17.3802C19.9499 17.8702 19.8499 18.3902 19.5199 18.7802C19.4499 18.8702 19.3499 18.9302 19.2699 19.0102C19.6699 18.5602 18.9699 18.0102 18.2299 17.7702L14.4799 16.5602C13.5099 16.2602 13.0199 15.5302 13.0199 14.5802C13.0199 14.5802 12.8699 13.1102 13.7499 12.4302C13.3499 12.8902 14.0499 13.4402 14.7899 13.6802Z" fill="white"/>
													<path fill-rule="evenodd" clip-rule="evenodd" d="M18.22 17.78C18.96 18.02 19.66 18.57 19.26 19.02C19.27 19.01 19.27 19.01 19.28 19C18.99 19.26 18.59 19.5 18.06 19.72L13 21.92V20.36C13 19.3 13.48 18.53 14.93 17.92L16.52 17.23L18.22 17.78Z" fill="white"/>
													<path fill-rule="evenodd" clip-rule="evenodd" d="M18.22 17.78C18.96 18.02 19.66 18.57 19.26 19.02C19.27 19.01 19.27 19.01 19.28 19C18.99 19.26 18.59 19.5 18.06 19.72L13 21.92V20.36C13 19.3 13.48 18.53 14.93 17.92L16.52 17.23L18.22 17.78Z" fill="white"/>
													<path fill-rule="evenodd" clip-rule="evenodd" d="M13.3301 12.9104C13.3401 12.9004 13.3401 12.8904 13.3501 12.8804C13.3501 12.8904 13.3401 12.9004 13.3301 12.9104Z" fill="white"/>
													<path fill-rule="evenodd" clip-rule="evenodd" d="M18.67 11.5301C18.71 11.5001 18.59 11.6201 18.52 11.6801C17.9 12.2001 17.16 12.5001 16.37 12.6401C15.5 12.7901 14.59 12.7301 13.75 12.4401C13.73 12.4301 13.72 12.4801 13.68 12.5301C13.43 12.9601 14.09 13.4601 14.78 13.6901L16.48 14.2201C17.92 13.5901 19.98 12.9901 19.99 11.1001C19.99 11.1001 20 9.53009 19.99 9.54009C19.85 9.70009 19.69 9.85009 19.51 9.97009C18.82 10.4601 17.97 10.6101 17.16 10.7901C16.23 11.0001 15.37 11.3501 14.56 11.8201C14.34 11.9501 14.23 12.0201 14.02 12.1601C14.03 12.1601 16.65 12.8901 18.67 11.5301Z" fill="white"/>
													<path fill-rule="evenodd" clip-rule="evenodd" d="M18.67 11.5301C18.71 11.5001 18.59 11.6201 18.52 11.6801C17.9 12.2001 17.16 12.5001 16.37 12.6401C15.5 12.7901 14.59 12.7301 13.75 12.4401C13.73 12.4301 13.72 12.4801 13.68 12.5301C13.43 12.9601 14.09 13.4601 14.78 13.6901L16.48 14.2201C17.92 13.5901 19.98 12.9901 19.99 11.1001C19.99 11.1001 20 9.53009 19.99 9.54009C19.85 9.70009 19.69 9.85009 19.51 9.97009C18.82 10.4601 17.97 10.6101 17.16 10.7901C16.23 11.0001 15.37 11.3501 14.56 11.8201C14.34 11.9501 14.23 12.0201 14.02 12.1601C14.03 12.1601 16.65 12.8901 18.67 11.5301Z" fill="white"/>
													<path d="M18.4301 5.61973L18.4101 5.55973V5.54973C18.2301 5.04973 17.7501 4.71973 17.2101 4.71973H3.26008C2.79008 4.71973 2.39008 5.01973 2.26008 5.45973L2.25008 5.46973L0.180084 16.6197C-0.209916 17.8997 0.0400839 19.2597 0.850084 20.3297C1.64008 21.3797 2.93008 21.9997 4.29008 21.9997L10.3301 21.9097C10.9201 21.9097 11.4001 21.4297 11.4001 20.8497C11.4001 20.5697 11.2901 20.2997 11.0901 20.0997C10.8901 19.8997 10.6201 19.7897 10.3301 19.7897L4.28008 19.8797C3.59008 19.8797 2.94008 19.5697 2.55008 19.0397C2.16008 18.5097 2.04008 17.8497 2.24008 17.2197L2.25008 17.1997L4.11008 6.83973H16.5501L16.8901 9.21973L17.3201 9.05973C17.6501 8.92973 17.9401 8.78973 18.1901 8.60973C18.3701 8.47973 18.5401 8.32973 18.6901 8.16973L18.8101 8.03973L18.4301 5.61973Z" fill="white"/>
													<path d="M15.7901 8.51997H15.7001H15.7901C15.7801 6.21997 15.7601 2.75997 13.5501 0.999968C12.5601 0.209968 11.2801 -0.110032 9.74007 0.0299682C7.68007 0.219968 6.24007 1.46997 5.45007 3.74997C4.83007 5.52997 4.79007 7.50997 4.82007 8.53997C4.83007 8.82997 4.96007 9.09997 5.18007 9.29997C5.43007 9.50997 5.76007 9.62997 6.10007 9.59997C6.73007 9.54997 7.21007 9.05997 7.20007 8.47997C7.18007 7.73997 7.20007 6.60997 7.43007 5.47997C7.84007 3.42997 8.70007 2.32997 9.98007 2.20997C10.8501 2.12997 11.5101 2.27997 12.0001 2.65997C13.3901 3.75997 13.4101 6.73997 13.4201 8.51997V8.55997C13.4201 8.83997 13.5401 9.10997 13.7501 9.30997C13.9701 9.52997 14.2901 9.64997 14.6101 9.64997H14.6301C15.2801 9.63997 15.8001 9.13997 15.8001 8.54997L15.7901 8.51997Z" fill="white"/>
													</g>
													<defs>
													<clipPath id="clip0">
													<rect width="20" height="22" fill="white"/>
													</clipPath>
													</defs>
												</svg>

												</button>
											<?php else: ?>
												<button class="action btn-cart-custom" type="submit" title="<?php /* @escapeNotVerified */ echo __('Add to Cart') ?>">
												<svg width="20" height="22" viewBox="0 0 20 22" fill="none" xmlns="http://www.w3.org/2000/svg">
													<g clip-path="url(#clip0)">
													<path d="M14.7899 13.6799L18.4499 14.8099C18.9299 14.9399 19.3899 15.1999 19.6699 15.6099C19.9899 16.0799 20.0299 16.6799 19.9899 17.2299C19.9599 17.7799 19.8799 18.3699 19.4999 18.7999C19.4299 18.8799 19.3299 18.9399 19.2599 19.0199C19.6599 18.5699 18.9599 18.0199 18.2199 17.7799L14.4699 16.5699C13.4999 16.2699 13.0099 15.5399 13.0099 14.5899C13.0099 14.5899 12.8599 13.1199 13.7399 12.4399C13.3499 12.8899 14.0499 13.4399 14.7899 13.6799Z" fill="white"/>
													<path d="M14.7899 13.6802L18.4499 14.8102C18.9199 14.9402 19.3599 15.1802 19.6499 15.5802C20.0199 16.1102 20.0199 16.7702 19.9799 17.3802C19.9499 17.8702 19.8499 18.3902 19.5199 18.7802C19.4499 18.8702 19.3499 18.9302 19.2699 19.0102C19.6699 18.5602 18.9699 18.0102 18.2299 17.7702L14.4799 16.5602C13.5099 16.2602 13.0199 15.5302 13.0199 14.5802C13.0199 14.5802 12.8699 13.1102 13.7499 12.4302C13.3499 12.8902 14.0499 13.4402 14.7899 13.6802Z" fill="white"/>
													<path fill-rule="evenodd" clip-rule="evenodd" d="M18.22 17.78C18.96 18.02 19.66 18.57 19.26 19.02C19.27 19.01 19.27 19.01 19.28 19C18.99 19.26 18.59 19.5 18.06 19.72L13 21.92V20.36C13 19.3 13.48 18.53 14.93 17.92L16.52 17.23L18.22 17.78Z" fill="white"/>
													<path fill-rule="evenodd" clip-rule="evenodd" d="M18.22 17.78C18.96 18.02 19.66 18.57 19.26 19.02C19.27 19.01 19.27 19.01 19.28 19C18.99 19.26 18.59 19.5 18.06 19.72L13 21.92V20.36C13 19.3 13.48 18.53 14.93 17.92L16.52 17.23L18.22 17.78Z" fill="white"/>
													<path fill-rule="evenodd" clip-rule="evenodd" d="M13.3301 12.9104C13.3401 12.9004 13.3401 12.8904 13.3501 12.8804C13.3501 12.8904 13.3401 12.9004 13.3301 12.9104Z" fill="white"/>
													<path fill-rule="evenodd" clip-rule="evenodd" d="M18.67 11.5301C18.71 11.5001 18.59 11.6201 18.52 11.6801C17.9 12.2001 17.16 12.5001 16.37 12.6401C15.5 12.7901 14.59 12.7301 13.75 12.4401C13.73 12.4301 13.72 12.4801 13.68 12.5301C13.43 12.9601 14.09 13.4601 14.78 13.6901L16.48 14.2201C17.92 13.5901 19.98 12.9901 19.99 11.1001C19.99 11.1001 20 9.53009 19.99 9.54009C19.85 9.70009 19.69 9.85009 19.51 9.97009C18.82 10.4601 17.97 10.6101 17.16 10.7901C16.23 11.0001 15.37 11.3501 14.56 11.8201C14.34 11.9501 14.23 12.0201 14.02 12.1601C14.03 12.1601 16.65 12.8901 18.67 11.5301Z" fill="white"/>
													<path fill-rule="evenodd" clip-rule="evenodd" d="M18.67 11.5301C18.71 11.5001 18.59 11.6201 18.52 11.6801C17.9 12.2001 17.16 12.5001 16.37 12.6401C15.5 12.7901 14.59 12.7301 13.75 12.4401C13.73 12.4301 13.72 12.4801 13.68 12.5301C13.43 12.9601 14.09 13.4601 14.78 13.6901L16.48 14.2201C17.92 13.5901 19.98 12.9901 19.99 11.1001C19.99 11.1001 20 9.53009 19.99 9.54009C19.85 9.70009 19.69 9.85009 19.51 9.97009C18.82 10.4601 17.97 10.6101 17.16 10.7901C16.23 11.0001 15.37 11.3501 14.56 11.8201C14.34 11.9501 14.23 12.0201 14.02 12.1601C14.03 12.1601 16.65 12.8901 18.67 11.5301Z" fill="white"/>
													<path d="M18.4301 5.61973L18.4101 5.55973V5.54973C18.2301 5.04973 17.7501 4.71973 17.2101 4.71973H3.26008C2.79008 4.71973 2.39008 5.01973 2.26008 5.45973L2.25008 5.46973L0.180084 16.6197C-0.209916 17.8997 0.0400839 19.2597 0.850084 20.3297C1.64008 21.3797 2.93008 21.9997 4.29008 21.9997L10.3301 21.9097C10.9201 21.9097 11.4001 21.4297 11.4001 20.8497C11.4001 20.5697 11.2901 20.2997 11.0901 20.0997C10.8901 19.8997 10.6201 19.7897 10.3301 19.7897L4.28008 19.8797C3.59008 19.8797 2.94008 19.5697 2.55008 19.0397C2.16008 18.5097 2.04008 17.8497 2.24008 17.2197L2.25008 17.1997L4.11008 6.83973H16.5501L16.8901 9.21973L17.3201 9.05973C17.6501 8.92973 17.9401 8.78973 18.1901 8.60973C18.3701 8.47973 18.5401 8.32973 18.6901 8.16973L18.8101 8.03973L18.4301 5.61973Z" fill="white"/>
													<path d="M15.7901 8.51997H15.7001H15.7901C15.7801 6.21997 15.7601 2.75997 13.5501 0.999968C12.5601 0.209968 11.2801 -0.110032 9.74007 0.0299682C7.68007 0.219968 6.24007 1.46997 5.45007 3.74997C4.83007 5.52997 4.79007 7.50997 4.82007 8.53997C4.83007 8.82997 4.96007 9.09997 5.18007 9.29997C5.43007 9.50997 5.76007 9.62997 6.10007 9.59997C6.73007 9.54997 7.21007 9.05997 7.20007 8.47997C7.18007 7.73997 7.20007 6.60997 7.43007 5.47997C7.84007 3.42997 8.70007 2.32997 9.98007 2.20997C10.8501 2.12997 11.5101 2.27997 12.0001 2.65997C13.3901 3.75997 13.4101 6.73997 13.4201 8.51997V8.55997C13.4201 8.83997 13.5401 9.10997 13.7501 9.30997C13.9701 9.52997 14.2901 9.64997 14.6101 9.64997H14.6301C15.2801 9.63997 15.8001 9.13997 15.8001 8.54997L15.7901 8.51997Z" fill="white"/>
													</g>
													<defs>
													<clipPath id="clip0">
													<rect width="20" height="22" fill="white"/>
													</clipPath>
													</defs>
												</svg>

												</button>
											<?php endif ?>
										</form>
									</div>
								<?php endif ?>
							</div>
						</div>
					</li>
				<?php endforeach ?>
			<?php else: ?>
				<?php /** @var $_product \Magento\Catalog\Model\Product */ ?>
				<?php foreach ($_productCollection as $_product): ?>
					<?php $_productNameStripped = $block->stripTags($_product->getName(), null, true); ?>
					<?php $productImage = $_imagehelper->init($_product, $image)->resize($size['width'], $size['height'])->getUrl(); ?>
					<?php $productImageHover = $_imagehelper->init($_product, $image_hover)->resize($size['width'], $size['height'])->getUrl(); ?>
					<?php if(!$lazyLoad): ?>
						<?php $baseImage = $productImage ?>
						<?php $baseImageHover = $productImageHover ?>
					<?php endif ?>
					<li class="item product product-item-info product-item">
						<div class="row">
							<div class="product-in-list-container">
								<div class="product-image-content">
									<a href="<?php echo $_product->getProductUrl() ?>" style="padding-bottom: <?php echo $padding; ?>;" class="product photo product-item-photo" tabindex="-1">
										<img src="<?php echo $baseImage ?>" alt="<?php echo $_productNameStripped ?>" class="img-responsive product-image-photo img-thumbnail<?php if($lazyLoad): ?> lazy<?php endif ?>" data-src="<?php echo $productImage ?>"/>

										<?php if(basename($_product->getData('thumbnail')) !=  'no_selection'): ?>
											<?php if(basename($_product->getData('thumbnail')) != basename($_product->getData('small_image'))): ?>
												<img src="<?php echo $baseImageHover ?>" alt="<?php echo $_productNameStripped ?>" class="img-responsive img-hover-show<?php if($lazyLoad): ?> lazy<?php endif ?>" data-src="<?php echo $productImageHover ?>" />
											<?php endif ?>
										<?php endif ?>
										<div class="product-image-photo"></div>
									</a>
									<?php echo $themeHelper->getProductLabel($_product) ?>
									<?php echo $quickViewHelper->aroundQuickViewHtml($_product); ?>
									<?php if ($this->helper('Magento\Wishlist\Helper\Data')->isAllow() && !$settings['catalog']['wishlist_button']): ?>
										<button data-title="<?php echo $block->escapeHtml(__('Add to Wish List')); ?>"
										   class="action towishlist"
										   title="<?php echo $block->escapeHtml(__('Add to Wish List')); ?>"
										   aria-label="<?php echo $block->escapeHtml(__('Add to Wish List')); ?>"
										   data-post='<?php /* @escapeNotVerified */ echo $block->getAddToWishlistParams($_product); ?>'
										   data-action="add-to-wishlist"
										   role="button">
										   	<svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
												<path d="M9.5 1L12.1265 6.59516L18 7.4979L13.75 11.8507L14.753 18L9.5 15.0952L4.247 18L5.25 11.8507L1 7.4979L6.8735 6.59516L9.5 1Z" fill="white" stroke="#333333" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
											</svg>

										</button>
									<?php endif; ?>
								</div>
								<div class="product details product-item-details">
									<div class="product details product-item-details product-info-container">
										<?php echo $block->getProductDetailsHtml($_product); ?>
										<h5 class="product name product-item-name">
											<a class="product-item-link" href="<?php echo $_product->getProductUrl() ?>">
												<?php echo $_helper->productAttribute($_product, $_product->getName(), 'name'); ?>
											</a>
										</h5>
										<?php echo $block->getProductPrice($_product) ?>
										<!--
											<?php if(!$themeHelper->getStoreConfig('mpanel/catalog/review')): ?>
											<?php echo $block->getReviewsSummaryHtml($_product, $templateType,true); ?>
											<?php endif ?>
											<?php if($_helper->productAttribute($_product, $_product->getShortDescription(), 'short_description')): ?>
												<div class="product description product-item-description">
													<?php /* @escapeNotVerified */ echo $_helper->productAttribute($_product, $_product->getShortDescription(), 'short_description') ?>
												</div>
											<?php endif ?>
										-->
									</div>
									<ul class="actions-link" data-role="add-to-links">
										<?php if ($_product->isSaleable()): ?>
											<li>
											<div class="field qty">
												<div class="control">
													<span class="edit-qty minus" data-id="<?php echo $_product->getId(); ?>">-</span>
													<input type="number" name="qtyFront" data-id="<?php echo $_product->getId(); ?>"  id="qty" maxlength="12" value="1" title="Qty" class="input-text qty" data-validate="{&quot;required-number&quot;:true,&quot;validate-item-quantity&quot;:{&quot;minAllowed&quot;:1,&quot;maxAllowed&quot;:10000}}">
													<span class="edit-qty plus" data-id="<?php echo $_product->getId(); ?>">+</span>
												</div>
											</div>
											</li>
											<li>
												<?php $postParams = $block->getAddToCartPostParams($_product); ?>
												<form data-role="tocart-form" action="<?php /* @escapeNotVerified */ echo $this->getUrl('checkout/cart/add', ['uenc'=>$postParams['data'][Action::PARAM_NAME_URL_ENCODED], 'product'=>$postParams['data']['product']]); ?>" method="post">
													<input type="hidden" name="product" value="<?php /* @escapeNotVerified */ echo $postParams['data']['product']; ?>">
                                                    <input type="hidden" id="addto_<?= $_product->getId(); ?>" name="qty" value="">
                                                    <input type="hidden" name="<?php /* @escapeNotVerified */ echo Action::PARAM_NAME_URL_ENCODED; ?>" value="<?php /* @escapeNotVerified */ echo $postParams['data'][Action::PARAM_NAME_URL_ENCODED]; ?>">
													<?php echo $block->getBlockHtml('formkey')?>

													<?php
														$has_option = 0;
														if($_product->getTypeId() == 'simple'){
															$data = $_product->getData();
															$has_option = ( isset($data['has_options']) && $data['has_options'] == 1) ? 1 : 0;
														}
													?>
													<?php if($animationType == 'cartshow' && ($_product->getTypeId() == 'configurable' || $_product->getTypeId() == 'bundle' || $_product->getTypeId() == 'grouped' || ($_product->getTypeId() == 'simple' && $has_option == 1) )): ?>
														<button class="action btn-cart tocart" type="button" title="<?php /* @escapeNotVerified */ echo __('Add to Cart') ?>" onclick="window.location.href = '<?php echo $_product->getProductUrl() ?>'">
														<svg width="20" height="22" viewBox="0 0 20 22" fill="none" xmlns="http://www.w3.org/2000/svg">
															<g clip-path="url(#clip0)">
															<path d="M14.7899 13.6799L18.4499 14.8099C18.9299 14.9399 19.3899 15.1999 19.6699 15.6099C19.9899 16.0799 20.0299 16.6799 19.9899 17.2299C19.9599 17.7799 19.8799 18.3699 19.4999 18.7999C19.4299 18.8799 19.3299 18.9399 19.2599 19.0199C19.6599 18.5699 18.9599 18.0199 18.2199 17.7799L14.4699 16.5699C13.4999 16.2699 13.0099 15.5399 13.0099 14.5899C13.0099 14.5899 12.8599 13.1199 13.7399 12.4399C13.3499 12.8899 14.0499 13.4399 14.7899 13.6799Z" fill="white"/>
															<path d="M14.7899 13.6802L18.4499 14.8102C18.9199 14.9402 19.3599 15.1802 19.6499 15.5802C20.0199 16.1102 20.0199 16.7702 19.9799 17.3802C19.9499 17.8702 19.8499 18.3902 19.5199 18.7802C19.4499 18.8702 19.3499 18.9302 19.2699 19.0102C19.6699 18.5602 18.9699 18.0102 18.2299 17.7702L14.4799 16.5602C13.5099 16.2602 13.0199 15.5302 13.0199 14.5802C13.0199 14.5802 12.8699 13.1102 13.7499 12.4302C13.3499 12.8902 14.0499 13.4402 14.7899 13.6802Z" fill="white"/>
															<path fill-rule="evenodd" clip-rule="evenodd" d="M18.22 17.78C18.96 18.02 19.66 18.57 19.26 19.02C19.27 19.01 19.27 19.01 19.28 19C18.99 19.26 18.59 19.5 18.06 19.72L13 21.92V20.36C13 19.3 13.48 18.53 14.93 17.92L16.52 17.23L18.22 17.78Z" fill="white"/>
															<path fill-rule="evenodd" clip-rule="evenodd" d="M18.22 17.78C18.96 18.02 19.66 18.57 19.26 19.02C19.27 19.01 19.27 19.01 19.28 19C18.99 19.26 18.59 19.5 18.06 19.72L13 21.92V20.36C13 19.3 13.48 18.53 14.93 17.92L16.52 17.23L18.22 17.78Z" fill="white"/>
															<path fill-rule="evenodd" clip-rule="evenodd" d="M13.3301 12.9104C13.3401 12.9004 13.3401 12.8904 13.3501 12.8804C13.3501 12.8904 13.3401 12.9004 13.3301 12.9104Z" fill="white"/>
															<path fill-rule="evenodd" clip-rule="evenodd" d="M18.67 11.5301C18.71 11.5001 18.59 11.6201 18.52 11.6801C17.9 12.2001 17.16 12.5001 16.37 12.6401C15.5 12.7901 14.59 12.7301 13.75 12.4401C13.73 12.4301 13.72 12.4801 13.68 12.5301C13.43 12.9601 14.09 13.4601 14.78 13.6901L16.48 14.2201C17.92 13.5901 19.98 12.9901 19.99 11.1001C19.99 11.1001 20 9.53009 19.99 9.54009C19.85 9.70009 19.69 9.85009 19.51 9.97009C18.82 10.4601 17.97 10.6101 17.16 10.7901C16.23 11.0001 15.37 11.3501 14.56 11.8201C14.34 11.9501 14.23 12.0201 14.02 12.1601C14.03 12.1601 16.65 12.8901 18.67 11.5301Z" fill="white"/>
															<path fill-rule="evenodd" clip-rule="evenodd" d="M18.67 11.5301C18.71 11.5001 18.59 11.6201 18.52 11.6801C17.9 12.2001 17.16 12.5001 16.37 12.6401C15.5 12.7901 14.59 12.7301 13.75 12.4401C13.73 12.4301 13.72 12.4801 13.68 12.5301C13.43 12.9601 14.09 13.4601 14.78 13.6901L16.48 14.2201C17.92 13.5901 19.98 12.9901 19.99 11.1001C19.99 11.1001 20 9.53009 19.99 9.54009C19.85 9.70009 19.69 9.85009 19.51 9.97009C18.82 10.4601 17.97 10.6101 17.16 10.7901C16.23 11.0001 15.37 11.3501 14.56 11.8201C14.34 11.9501 14.23 12.0201 14.02 12.1601C14.03 12.1601 16.65 12.8901 18.67 11.5301Z" fill="white"/>
															<path d="M18.4301 5.61973L18.4101 5.55973V5.54973C18.2301 5.04973 17.7501 4.71973 17.2101 4.71973H3.26008C2.79008 4.71973 2.39008 5.01973 2.26008 5.45973L2.25008 5.46973L0.180084 16.6197C-0.209916 17.8997 0.0400839 19.2597 0.850084 20.3297C1.64008 21.3797 2.93008 21.9997 4.29008 21.9997L10.3301 21.9097C10.9201 21.9097 11.4001 21.4297 11.4001 20.8497C11.4001 20.5697 11.2901 20.2997 11.0901 20.0997C10.8901 19.8997 10.6201 19.7897 10.3301 19.7897L4.28008 19.8797C3.59008 19.8797 2.94008 19.5697 2.55008 19.0397C2.16008 18.5097 2.04008 17.8497 2.24008 17.2197L2.25008 17.1997L4.11008 6.83973H16.5501L16.8901 9.21973L17.3201 9.05973C17.6501 8.92973 17.9401 8.78973 18.1901 8.60973C18.3701 8.47973 18.5401 8.32973 18.6901 8.16973L18.8101 8.03973L18.4301 5.61973Z" fill="white"/>
															<path d="M15.7901 8.51997H15.7001H15.7901C15.7801 6.21997 15.7601 2.75997 13.5501 0.999968C12.5601 0.209968 11.2801 -0.110032 9.74007 0.0299682C7.68007 0.219968 6.24007 1.46997 5.45007 3.74997C4.83007 5.52997 4.79007 7.50997 4.82007 8.53997C4.83007 8.82997 4.96007 9.09997 5.18007 9.29997C5.43007 9.50997 5.76007 9.62997 6.10007 9.59997C6.73007 9.54997 7.21007 9.05997 7.20007 8.47997C7.18007 7.73997 7.20007 6.60997 7.43007 5.47997C7.84007 3.42997 8.70007 2.32997 9.98007 2.20997C10.8501 2.12997 11.5101 2.27997 12.0001 2.65997C13.3901 3.75997 13.4101 6.73997 13.4201 8.51997V8.55997C13.4201 8.83997 13.5401 9.10997 13.7501 9.30997C13.9701 9.52997 14.2901 9.64997 14.6101 9.64997H14.6301C15.2801 9.63997 15.8001 9.13997 15.8001 8.54997L15.7901 8.51997Z" fill="white"/>
															</g>
															<defs>
															<clipPath id="clip0">
															<rect width="20" height="22" fill="white"/>
															</clipPath>
															</defs>
														</svg>

															<span class="product-item-link">
																<?php echo __('Add to cart'); ?>
															</span>
														</button>
													<?php else: ?>
														<button class="action tocart btn-cart" type="submit" title="<?php /* @escapeNotVerified */ echo __('Add to Cart') ?>">
														<svg width="20" height="22" viewBox="0 0 20 22" fill="none" xmlns="http://www.w3.org/2000/svg">
															<g clip-path="url(#clip0)">
															<path d="M14.7899 13.6799L18.4499 14.8099C18.9299 14.9399 19.3899 15.1999 19.6699 15.6099C19.9899 16.0799 20.0299 16.6799 19.9899 17.2299C19.9599 17.7799 19.8799 18.3699 19.4999 18.7999C19.4299 18.8799 19.3299 18.9399 19.2599 19.0199C19.6599 18.5699 18.9599 18.0199 18.2199 17.7799L14.4699 16.5699C13.4999 16.2699 13.0099 15.5399 13.0099 14.5899C13.0099 14.5899 12.8599 13.1199 13.7399 12.4399C13.3499 12.8899 14.0499 13.4399 14.7899 13.6799Z" fill="white"/>
															<path d="M14.7899 13.6802L18.4499 14.8102C18.9199 14.9402 19.3599 15.1802 19.6499 15.5802C20.0199 16.1102 20.0199 16.7702 19.9799 17.3802C19.9499 17.8702 19.8499 18.3902 19.5199 18.7802C19.4499 18.8702 19.3499 18.9302 19.2699 19.0102C19.6699 18.5602 18.9699 18.0102 18.2299 17.7702L14.4799 16.5602C13.5099 16.2602 13.0199 15.5302 13.0199 14.5802C13.0199 14.5802 12.8699 13.1102 13.7499 12.4302C13.3499 12.8902 14.0499 13.4402 14.7899 13.6802Z" fill="white"/>
															<path fill-rule="evenodd" clip-rule="evenodd" d="M18.22 17.78C18.96 18.02 19.66 18.57 19.26 19.02C19.27 19.01 19.27 19.01 19.28 19C18.99 19.26 18.59 19.5 18.06 19.72L13 21.92V20.36C13 19.3 13.48 18.53 14.93 17.92L16.52 17.23L18.22 17.78Z" fill="white"/>
															<path fill-rule="evenodd" clip-rule="evenodd" d="M18.22 17.78C18.96 18.02 19.66 18.57 19.26 19.02C19.27 19.01 19.27 19.01 19.28 19C18.99 19.26 18.59 19.5 18.06 19.72L13 21.92V20.36C13 19.3 13.48 18.53 14.93 17.92L16.52 17.23L18.22 17.78Z" fill="white"/>
															<path fill-rule="evenodd" clip-rule="evenodd" d="M13.3301 12.9104C13.3401 12.9004 13.3401 12.8904 13.3501 12.8804C13.3501 12.8904 13.3401 12.9004 13.3301 12.9104Z" fill="white"/>
															<path fill-rule="evenodd" clip-rule="evenodd" d="M18.67 11.5301C18.71 11.5001 18.59 11.6201 18.52 11.6801C17.9 12.2001 17.16 12.5001 16.37 12.6401C15.5 12.7901 14.59 12.7301 13.75 12.4401C13.73 12.4301 13.72 12.4801 13.68 12.5301C13.43 12.9601 14.09 13.4601 14.78 13.6901L16.48 14.2201C17.92 13.5901 19.98 12.9901 19.99 11.1001C19.99 11.1001 20 9.53009 19.99 9.54009C19.85 9.70009 19.69 9.85009 19.51 9.97009C18.82 10.4601 17.97 10.6101 17.16 10.7901C16.23 11.0001 15.37 11.3501 14.56 11.8201C14.34 11.9501 14.23 12.0201 14.02 12.1601C14.03 12.1601 16.65 12.8901 18.67 11.5301Z" fill="white"/>
															<path fill-rule="evenodd" clip-rule="evenodd" d="M18.67 11.5301C18.71 11.5001 18.59 11.6201 18.52 11.6801C17.9 12.2001 17.16 12.5001 16.37 12.6401C15.5 12.7901 14.59 12.7301 13.75 12.4401C13.73 12.4301 13.72 12.4801 13.68 12.5301C13.43 12.9601 14.09 13.4601 14.78 13.6901L16.48 14.2201C17.92 13.5901 19.98 12.9901 19.99 11.1001C19.99 11.1001 20 9.53009 19.99 9.54009C19.85 9.70009 19.69 9.85009 19.51 9.97009C18.82 10.4601 17.97 10.6101 17.16 10.7901C16.23 11.0001 15.37 11.3501 14.56 11.8201C14.34 11.9501 14.23 12.0201 14.02 12.1601C14.03 12.1601 16.65 12.8901 18.67 11.5301Z" fill="white"/>
															<path d="M18.4301 5.61973L18.4101 5.55973V5.54973C18.2301 5.04973 17.7501 4.71973 17.2101 4.71973H3.26008C2.79008 4.71973 2.39008 5.01973 2.26008 5.45973L2.25008 5.46973L0.180084 16.6197C-0.209916 17.8997 0.0400839 19.2597 0.850084 20.3297C1.64008 21.3797 2.93008 21.9997 4.29008 21.9997L10.3301 21.9097C10.9201 21.9097 11.4001 21.4297 11.4001 20.8497C11.4001 20.5697 11.2901 20.2997 11.0901 20.0997C10.8901 19.8997 10.6201 19.7897 10.3301 19.7897L4.28008 19.8797C3.59008 19.8797 2.94008 19.5697 2.55008 19.0397C2.16008 18.5097 2.04008 17.8497 2.24008 17.2197L2.25008 17.1997L4.11008 6.83973H16.5501L16.8901 9.21973L17.3201 9.05973C17.6501 8.92973 17.9401 8.78973 18.1901 8.60973C18.3701 8.47973 18.5401 8.32973 18.6901 8.16973L18.8101 8.03973L18.4301 5.61973Z" fill="white"/>
															<path d="M15.7901 8.51997H15.7001H15.7901C15.7801 6.21997 15.7601 2.75997 13.5501 0.999968C12.5601 0.209968 11.2801 -0.110032 9.74007 0.0299682C7.68007 0.219968 6.24007 1.46997 5.45007 3.74997C4.83007 5.52997 4.79007 7.50997 4.82007 8.53997C4.83007 8.82997 4.96007 9.09997 5.18007 9.29997C5.43007 9.50997 5.76007 9.62997 6.10007 9.59997C6.73007 9.54997 7.21007 9.05997 7.20007 8.47997C7.18007 7.73997 7.20007 6.60997 7.43007 5.47997C7.84007 3.42997 8.70007 2.32997 9.98007 2.20997C10.8501 2.12997 11.5101 2.27997 12.0001 2.65997C13.3901 3.75997 13.4101 6.73997 13.4201 8.51997V8.55997C13.4201 8.83997 13.5401 9.10997 13.7501 9.30997C13.9701 9.52997 14.2901 9.64997 14.6101 9.64997H14.6301C15.2801 9.63997 15.8001 9.13997 15.8001 8.54997L15.7901 8.51997Z" fill="white"/>
															</g>
															<defs>
															<clipPath id="clip0">
															<rect width="20" height="22" fill="white"/>
															</clipPath>
															</defs>
														</svg>


															<span class="text"><?php /* @escapeNotVerified */ echo __('Add to Cart') ?></span>
														</button>
													<?php endif ?>
												</form>
											</li>
										<?php endif ?>

										<?php if(!$settings['catalog']['compare_button']): ?>
											<li><button data-title="<?php echo $block->escapeHtml(__('Add to Compare')); ?>"
											   class="action tocompare"
											   title="<?php echo $block->escapeHtml(__('Add to Compare')); ?>"
											   aria-label="<?php echo $block->escapeHtml(__('Add to Compare')); ?>"
											   data-post='<?php /* @escapeNotVerified */ echo $compareHelper->getPostDataParams($_product); ?>'
											   role="button">
												<i class="pe-7s-graph3"></i>
											</button></li>
										<?php endif ?>

									</ul>
								</div>
							</div>
						</div>
					</li>
				<?php endforeach ?>
			<?php endif ?>
        </ol>
    </div>
	<div class="bottom-pagination<?php if($themeHelper->getStoreConfig('mpanel/catalog/ajaxscroll')): ?> ajaxscroll-enable<?php endif ?>">
		<?php echo $block->getToolbarHtml() ?>
	</div>
    <?php if (!$block->isRedirectToCartEnabled()) : ?>
        <script type="text/x-magento-init">
        {
            "[data-role=tocart-form], .form.map.checkout": {
                "catalogAddToCart": {}
            }
        }
        </script>
    <?php endif; ?>
<?php endif; ?>

<script>
	require([
	'jquery',
	'waypoints'
], function(jQuery){
	(function($) {
		$('.filter-toggle .title').click(function(){
			$('html').toggleClass('filter-open');
		});
	})(jQuery);
});
</script>


<script type="text/javascript">

	requirejs([

		'require',

		'jquery',

		'mgsmasonry',

		'mgsvisible'

	], function( require, $, Masonry) {

		require( [ 'bridget' ], function( jQueryBridget ) {

			jQueryBridget( 'masonry', Masonry, $ );

			$(window).load(function() {

				var $container = $('.product-list-masonry-change-product').masonry({

					itemSelector: '.product-item-masonry',

					columnWidth: '.product-item-masonry',

					horizontalOrder: true,

                    initLayoutMasonry: false
				});

				$('.layout-mode-button-group').on( 'click', 'a', function() {

				  // change layout mode

				  	$('.owl-carousel').owlCarousel('destroy');

					$('.owl-carousel').owlCarousel({
						loop: true,
						items: 1,
						dot: true
					});

				  	$container.masonry({

				  		columnWidth: '.product-item-masonry',
				  		maxHeight: 0,
				  		initLayoutMasonry: false


				  	});

				});



				// change is-checked class on buttons

				$('.button-group').each( function( i, buttonGroup ) {

				  var $buttonGroup = $( buttonGroup );

				  $buttonGroup.on( 'click', 'a', function() {

				    $buttonGroup.find('.is-checked').removeClass('is-checked');

				    $( this ).addClass('is-checked');

				  });

				});

			});

			$(document).ajaxComplete(function() {

				var $container = $('.product-list-masonry-change-product').masonry({

					itemSelector: '.product-item-masonry',

					columnWidth: '.product-item-masonry',

					horizontalOrder: true,
					initLayoutMasonry: true

				});


				$('.layout-mode-button-group').on( 'click', 'a', function() {

				  // change layout mode

				  	$('.owl-carousel').owlCarousel('destroy');

					$('.owl-carousel').owlCarousel({
						loop: true,
						items: 1,
						dot: true
					});

				  	$container.masonry({

				  		columnWidth: '.product-item-masonry',

				  		maxHeight: 0,
				  		initLayoutMasonry: false

				  	});

				});



				// change is-checked class on buttons

				$('.button-group').each( function( i, buttonGroup ) {

				  var $buttonGroup = $( buttonGroup );

				  $buttonGroup.on( 'click', 'a', function() {

				    $buttonGroup.find('.is-checked').removeClass('is-checked');

				    $( this ).addClass('is-checked');

				  });

				});
				$(window).scroll(function(){
					$(".product-list-masonry-change-product > .product-item-masonry").each(function(){
						if($(this).visible(true,true,'vertical')) {
							$(this).addClass('enable');
						}else {
							$(this).removeClass('enable');
						}
					});
				});

			});

		});

	});

</script>
<script type="text/javascript">
    requirejs([
        'jquery'
    ], function($){
        $(window).load(function() {
            $(document).on('click', '.edit-qty.plus', function (){
                let self = $(this);
                let element = $('input[name="qtyFront"][data-id="'+self.data('id')+'"]');
                if(element.attr('disabled')!='disabled'){
                    qty = element.attr('value');
                    qty = parseInt(qty);
                    qty++;
                    element.val(qty);
                    $('#addto_'+self.data('id')).val(qty);
                }
            });
            $(document).on('click', '.edit-qty.minus', function (){
                let self = $(this);
                let element = $('input[name="qtyFront"][data-id="'+self.data('id')+'"]');
                if(element.attr('disabled')!='disabled'){
                    qty = element.attr('value');
                    qty = parseInt(qty);
                    if(qty>1){
                        qty--;
                        element.val(qty);
                        $('#addto_'+self.data('id')).val(qty);
                    }
                }
            });
        });
    });

</script>
